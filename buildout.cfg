[buildout]
extensions = mr.developer

extends =
    https://raw.githubusercontent.com/zopefoundation/Zope/master/versions.cfg
    https://raw.githubusercontent.com/zopefoundation/Zope/master/sources.cfg
develop = .
parts = interpreter test coverage

sources-dir = develop
auto-checkout =
    AccessControl
    Persistence
    RestrictedPython

[sources]
AccessControl = git ${remotes:github}/AccessControl pushurl=${remotes:github_push}/AccessControl branch=py3-pure-python
Persistence = git ${remotes:github}/Persistence pushurl=${remotes:github_push}/Persistence branch=py3-c-extension-2
RestrictedPython = git ${remotes:github}/RestrictedPython pushurl=${remotes:github_push}/RestrictedPython branch=Python3_update

[versions]
DocumentTemplate =
# Use newer ExtensionClass with C Extension compatible with Python 3
ExtensionClass = 4.2.0

[interpreter]
recipe = zc.recipe.egg
interpreter = python
eggs =
    DocumentTemplate
    tox

[test]
recipe = zc.recipe.testrunner
eggs = DocumentTemplate

[coverage]
recipe = zc.recipe.testrunner
eggs = DocumentTemplate
defaults = ['--coverage', '../../coverage', '-v', '--auto-progress']
